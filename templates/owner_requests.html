{% extends 'base.html' %}
{% block title %}Sitting Requests{% endblock %}

{% block body %}
  <h1>Your Sitting Requests</h1>

  <h2>Recurring Requests</h2>
  <p>Specify which day and time you need pet sitting every week. </p>
  <ul>
    {% for recurring in recurrings %}
      {% if recurring.recurring_id not in transaction_id_list %}
        <li><a href="/owner/{{ owner.owner_id }}/requests/recurring/{{ recurring.recurring_id }}">
        {{ recurring.day }}s @{{ recurring.time }}</a></li>
      {% endif %}
    {% endfor %}
  </ul>
  <a href="/owner/{{ owner.owner_id }}/requests/add_recurring_form">Add New Recurring Request</a>
  <br>

  <h2>Short Term Requests</h2>
  <p>Specify which day and time you need pet sitting for a certain time period. </p>
  <ul>
    {% for short_term in short_terms %}
      {% if short_term.short_term_id not in transaction_id_list %}
        <li><a href="/owner/{{ owner.owner_id }}/requests/short_term/{{ short_term.short_term_id }}">
        {{ short_term.start }} to {{ short_term.end }} on {{short_term.day }}s @{{ short_term.time }}</a></li>
      {% endif %}
    {% endfor %}
  </ul>
  <a href="/owner/{{ owner.owner_id }}/requests/add_short_term_form">Add New Short Term Request</a>
  <br>

  {% if transactions|length > 0 %}
    <h2>Confirmed Sitting Appointments</h2>
  
      <ul>
        {% for transaction in transactions %}
          <li><a href="/owner/{{ owner.owner_id }}/requests/{{ transaction.transaction_id }}">
          {{ transaction.recurring.day }}s @{{ transaction.recurring.time }}</a></li>
        {% endfor %}
      </ul>
    
  {% else %} 
    <h2>No confirmed appointments</h2>
  {% endif %}
{% endblock %}
    